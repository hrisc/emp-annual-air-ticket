/**
* This file was auto-generated by SAP Web IDE build and includes all
* the source files required by SAPUI5 runtime for performance optimization.
* PLEASE DO NOT EDIT THIS FILE!! Changes will be overwritten the next time the build is run.
*/
jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "ZANNUAL_TICKET/Component-preload",
	"modules": {
		"ZANNUAL_TICKET/Component.js": "sap.ui.define([\r\n\t\"sap/ui/core/UIComponent\",\r\n\t\"sap/ui/Device\",\r\n\t\"ZANNUAL_TICKET/model/models\"\r\n], function(UIComponent, Device, models) {\r\n\t\"use strict\";\r\n\r\n\treturn UIComponent.extend(\"ZANNUAL_TICKET.Component\", {\r\n\r\n\t\tmetadata: {\r\n\t\t\tmanifest: \"json\"\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * The component is initialized by UI5 automatically during the startup of the app and calls the init method once.\r\n\t\t * @public\r\n\t\t * @override\r\n\t\t */\r\n\t\tinit: function() {\r\n\t\t\t// call the base component's init function\r\n\t\t\tUIComponent.prototype.init.apply(this, arguments);\r\n\r\n\t\t\t// set the device model\r\n\t\t\tthis.setModel(models.createDeviceModel(), \"device\");\r\n\t\t}\r\n\t});\r\n});",
		"ZANNUAL_TICKET/view/Create.view.xml": "<mvc:View controllerName=\"ZANNUAL_TICKET.controller.Create\" xmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns:f=\"sap.ui.layout.form\" displayBlock=\"true\" xmlns:l=\"sap.ui.layout\" xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\" xmlns:table=\"sap.ui.table\"\r\n\txmlns:plugins=\"sap.ui.table.plugins\" xmlns:u=\"sap.ui.unified\" xmlns:c=\"sap.ui.core\">\r\n\t<App>\r\n\t\t<pages>\r\n\t\t\t<Page showHeader=\"false\" class=\"sapUiSizeCompact\" busy=\"{detailView>/busy}\" title=\"{i18n>title}\">\r\n\t\t\t\t<content>\r\n\t\t\t\t\t<VBox class=\"sapUiSmallMargin sapUiLargeMarginBegin sapUiLargeMarginEnd\">\r\n\t\t\t\t\t\t<Panel headerText=\"{i18n>GeneralDetails}\" backgroundDesign=\"Solid\">\r\n\t\t\t\t\t\t\t<content>\r\n\t\t\t\t\t\t\t\t<f:SimpleForm id=\"form1\" class=\"sapUiSizeCompact\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanXL=\"4\" labelSpanL=\"5\"\r\n\t\t\t\t\t\t\t\t\tlabelSpanM=\"12\" labelSpanS=\"12\" adjustLabelSpan=\"false\" emptySpanXL=\"1\" emptySpanL=\"1\" emptySpanM=\"0\" emptySpanS=\"0\" columnsXL=\"2\"\r\n\t\t\t\t\t\t\t\t\tcolumnsL=\"2\" columnsM=\"2\" singleContainerFullSize=\"false\">\r\n\t\t\t\t\t\t\t\t\t<f:content>\r\n\t\t\t\t\t\t\t\t\t\t<core:Title/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>EmployeeName}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Text text=\"{AnnualTicket>/HTE/results/0/Ename}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>Department}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Text id=\"Orgeh\" text=\"{AnnualTicket>/HTE/results/0/Orgeh}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>HiringDate}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Text text=\"{path: 'AnnualTicket>/HTE/results/0/Djoin' , type:'sap.ui.model.type.Date', formatOptions: { pattern: 'dd.MM.yyyy' }}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>EmployeeSubgroup}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Text text=\"{AnnualTicket>/EPersk}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>Mobile}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Input id=\"Mobile\" value=\"{AnnualTicket>/HTE/results/0/Mobile}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<core:Title/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>EmployeeNumber}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Text text=\"{AnnualTicket>/HTE/results/0/Pernr}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>Position}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Text text=\"{AnnualTicket>/HTE/results/0/Plans}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>EmployeePaygrade}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Text text=\"{AnnualTicket>/ETrfst}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>PreviousTicketGrantedOn}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Text text=\"{path: 'AnnualTicket>/HTE/results/0/Lticket' , type:'sap.ui.model.type.Date', formatOptions: { pattern: 'dd.MM.yyyy' }}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>OfficeExtension}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Input id=\"Extn\" value=\"{AnnualTicket>/HTE/results/0/Extn}\"/>\r\n\t\t\t\t\t\t\t\t\t</f:content>\r\n\t\t\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t\t\t</content>\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t<Panel headerText=\"{i18n>TravelDetails}\" backgroundDesign=\"Solid\">\r\n\t\t\t\t\t\t\t<content>\r\n\t\t\t\t\t\t\t\t<f:SimpleForm id=\"form2\" class=\"sapUiResponsiveContentPadding\" editable=\"true\" layout=\"ResponsiveGridLayout\" backgroundDesign=\"Transparent\">\r\n\t\t\t\t\t\t\t\t\t<f:content>\r\n\t\t\t\t\t\t\t\t\t\t<RadioButtonGroup columns=\"3\" selectedIndex=\"0\" buttons=\"{/PaymentMethodSet}\" id=\"PaymentMethod\" select=\"onPaymentMethodSelected\">\r\n\t\t\t\t\t\t\t\t\t\t\t<RadioButton id=\"PaymentRaioButtonId\" text=\"{PaymentText}\" />\r\n\t\t\t\t\t\t\t\t\t\t</RadioButtonGroup>\r\n\t\t\t\t\t\t\t\t\t\t<Label visible=\"false\" text=\"{i18n>PersonnelName}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<RadioButtonGroup columns=\"3\" selectedIndex=\"0\" buttons=\"{ path: 'AnnualTicket>/ValueSet'}\" select=\"onSelectedValueChange\" id=\"Value\">\r\n\t\t\t\t\t\t\t\t\t\t\t<RadioButton text=\"{AnnualTicket>Ddtext}\"/>\r\n\t\t\t\t\t\t\t\t\t\t</RadioButtonGroup>\r\n\t\t\t\t\t\t\t\t\t</f:content>\r\n\t\t\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t\t\t\t<VBox class=\"sapUiResponsiveMargin\">\r\n\t\t\t\t\t\t\t\t\t<!--<Table id=\"DependentsTable\" items=\"{AnnualTicket>/Dependents}\" growing=\"true\" growingThreshold=\"5\" inset=\"false\" growingScrollToLoad=\"false\"\r\n\t\t\t\t\t\t\t\t\t\titemPress=\"onItemPressed\" busyIndicatorDelay=\"0\" headerText=\"{i18n>title}\">\r\n\t\t\t\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Column id=\"Fname\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{i18n>FullName}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Column id=\"Rel\" hAlign=\"Center\" minScreenWidth=\"Tablet\" demandPopin=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{i18n>Relationship}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Column id=\"dob\" hAlign=\"Center\" minScreenWidth=\"Tablet\" demandPopin=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{i18n>DateOfBirth}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t<ColumnListItem type=\"{= ${device>/system/phone} ? 'Navigation' : 'Inactive' }\" id=\"salaryColumnListItem\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AnnualTicket>Fname}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AnnualTicket>Rel}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext=\"{path: 'AnnualTicket>Dob', type:'sap.ui.model.type.Date', formatOptions: { source: { pattern: 'yyyy-MM-ddTHH:mss' }, pattern: 'dd.MM.yyyy' }}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t</Table>-->\r\n\t\t\t\t\t\t\t\t\t<table:Table id=\"table\" enableSelectAll=\"false\" visibleRowCount=\"7\" rows=\"{AnnualTicket>/Dependents}\" threshold=\"15\"\r\n\t\t\t\t\t\t\t\t\t\tenableBusyIndicator=\"true\" ariaLabelledBy=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t<table:columns>\r\n\t\t\t\t\t\t\t\t\t\t\t<table:Column autoResizable=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>FullName}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<table:template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AnnualTicket>Fname}\" wrapping=\"false\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</table:template>\r\n\t\t\t\t\t\t\t\t\t\t\t</table:Column>\r\n\t\t\t\t\t\t\t\t\t\t\t<table:Column autoResizable=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>Relationship}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<table:template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AnnualTicket>Rel}\" wrapping=\"false\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</table:template>\r\n\t\t\t\t\t\t\t\t\t\t\t</table:Column>\r\n\t\t\t\t\t\t\t\t\t\t\t<table:Column autoResizable=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>Dob}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<table:template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{path: 'AnnualTicket>Dob', type:'sap.ui.model.type.Date', formatOptions: { pattern: 'dd.MM.yyyy' }}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</table:template>\r\n\t\t\t\t\t\t\t\t\t\t\t</table:Column>\r\n\t\t\t\t\t\t\t\t\t\t</table:columns>\r\n\t\t\t\t\t\t\t\t\t</table:Table>\r\n\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t<f:SimpleForm id=\"form3\" class=\"sapUiSizeCompact\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanXL=\"3\" labelSpanL=\"3\"\r\n\t\t\t\t\t\t\t\t\tlabelSpanM=\"12\" labelSpanS=\"12\" adjustLabelSpan=\"false\" emptySpanXL=\"2\" emptySpanL=\"2\" emptySpanM=\"0\" emptySpanS=\"0\" columnsXL=\"2\"\r\n\t\t\t\t\t\t\t\t\tcolumnsL=\"2\" columnsM=\"2\" singleContainerFullSize=\"false\">\r\n\t\t\t\t\t\t\t\t\t<f:content>\r\n\t\t\t\t\t\t\t\t\t\t<core:Title/>\r\n\t\t\t\t\t\t\t\t\t\t<Label required=\"true\" text=\"{i18n>DepartureDate}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<DateTimeInput type=\"Date\" id=\"Depdate\" class=\"mandatory\" valueFormat=\"dd.MM.yyyy\" displayFormat=\"dd.MM.yyyy\" change=\"onChangeValue\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"{path: 'Depdate', type:'sap.ui.model.type.Date', formatOptions: { source: { pattern: 'yyyy-MM-ddTHH:mm:ss' }, pattern: 'dd.MM.yyyy' }}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Label required=\"true\" text=\"{i18n>TravellingTo}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Input id=\"Travelto\" class=\"mandatory\" value=\"{AnnualTicket>/HTT/results/0/Travelto}\" liveChange=\"onChangeValue\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>PointOfOrigin}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Input id=\"Porigin\" value=\"{Porigin}\" editable=\"false\"/>\r\n\t\t\t\t\t\t\t\t\t\t<core:Title/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>ReturnDate}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<DateTimeInput type=\"Date\" id=\"Redate\" valueFormat=\"dd.MM.yyyy\" displayFormat=\"dd.MM.yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"{path: 'Redate', type:'sap.ui.model.type.Date', formatOptions: { source: { pattern: 'yyyy-MM-ddTHH:mm:ss' }, pattern: 'dd.MM.yyyy' }}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>Country}\" required=\"true\"/>\r\n\t\t\t\t\t\t\t\t\t\t<ComboBox id=\"Country\" items=\"{/COUNTRYSet}\" class=\"mandatory\" selectedKey=\"{Country}\" change=\"onCountryChange\">\r\n\t\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:ListItem text=\"{Landx50}\" key=\"{Land1}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"{i18n>TravelClass}\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Input id=\"TravelClass\" value=\"{AnnualTicket>/HTT/results/0/TravelClass}\" editable=\"false\"/>\r\n\t\t\t\t\t\t\t\t\t\t<!--<Input id=\"Class\" value=\"{AnnualTicket>/HTT/results/0/Class}\"  editable=\"false\"/>-->\r\n\t\t\t\t\t\t\t\t\t</f:content>\r\n\t\t\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t\t\t</content>\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t<UploadCollection class=\"mandatory\" id=\"UploadCollection\" maximumFileSize=\"3\" multiple=\"true\" sameFilenameAllowed=\"false\"\r\n\t\t\t\t\t\t\tinstantUpload=\"false\" change=\"onChangeAttachment\" uploadUrl=\"/sap/opu/odata/sap/ZHCM_ANNUAL_TICKET_SRV/AttachSet\"\r\n\t\t\t\t\t\t\tfileDeleted=\"onFileDeleted\" fileSizeExceed=\"onFileSizeExceed\" typeMissmatch=\"onTypeMissmatch\" uploadComplete=\"onUploadComplete\"\r\n\t\t\t\t\t\t\tbeforeUploadStarts=\"onBeforeUploadStarts\">\r\n\t\t\t\t\t\t\t<toolbar>\r\n\t\t\t\t\t\t\t\t<OverflowToolbar id=\"myId\">\r\n\t\t\t\t\t\t\t\t\t<Title text=\"{i18n>Attachments}\" class=\"sapMLabelRequired\" id=\"attachmentTitle\"/>\r\n\t\t\t\t\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t\t\t\t\t<UploadCollectionToolbarPlaceholder/>\r\n\t\t\t\t\t\t\t\t</OverflowToolbar>\r\n\t\t\t\t\t\t\t</toolbar>\r\n\t\t\t\t\t\t</UploadCollection>\r\n\t\t\t\t\t</VBox>\r\n\t\t\t\t</content>\r\n\t\t\t\t<footer>\r\n\t\t\t\t\t<Bar>\r\n\t\t\t\t\t\t<contentRight>\r\n\t\t\t\t\t\t\t<Button type=\"Accept\" id=\"submit\" text=\"{i18n>Submit}\" press=\"onSubmit\"/>\r\n\t\t\t\t\t\t</contentRight>\r\n\t\t\t\t\t</Bar>\r\n\t\t\t\t</footer>\r\n\t\t\t</Page>\r\n\t\t</pages>\r\n\t</App>\r\n</mvc:View>",
		"ZANNUAL_TICKET/model/models.js": "sap.ui.define([\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/Device\"\r\n], function(JSONModel, Device) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\r\n\t\tcreateDeviceModel: function() {\r\n\t\t\tvar oModel = new JSONModel(Device);\r\n\t\t\toModel.setDefaultBindingMode(\"OneWay\");\r\n\t\t\treturn oModel;\r\n\t\t}\r\n\r\n\t};\r\n});",
		"ZANNUAL_TICKET/controller/Create.controller.js": "sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\"\r\n], function(Controller, JSONModel, Filter, FilterOperator) {\r\n\t\"use strict\";\r\n\tvar View = null;\r\n\r\n\tvar sRootPath = jQuery.sap.getModulePath(\"ZANNUAL_TICKET\"),\r\n\t\ti18nModel = new sap.ui.model.resource.ResourceModel({\r\n\t\t\tbundleUrl: [sRootPath, \"i18n/i18n.properties\"].join(\"/\")\r\n\t\t});\r\n\treturn Controller.extend(\"ZANNUAL_TICKET.controller.Create\", {\r\n\t\t_setDetailView: function() {\r\n\t\t\treturn new JSONModel({\r\n\t\t\t\tbusy: false\r\n\t\t\t});\r\n\t\t},\r\n\t\tonInit: function() {\r\n\t\t\tthis.oDataModel = this.getOwnerComponent().getModel(\"oDataModel\");\r\n\t\t\tvar oViewModel = this._setDetailView();\r\n\t\t\tthis.getView().setModel(oViewModel, \"detailView\");\r\n\t\t\tthis.oDataModel.setSizeLimit(10000);\r\n\t\t\tView = this.getView();\r\n\t\t\tView.setModel(this.oDataModel);\r\n\t\t\tvar that = this;\r\n\t\t\tthis.getView().getModel(\"detailView\").setProperty(\"/busy\", true);\r\n\t\t\tthis.oDataModel.read(\"/HeaderSet('')\", {\r\n\t\t\t\turlParameters: {\r\n\t\t\t\t\t\"$expand\": \"HTT,HTE,HTR\"\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"AnnualTicket\").setProperty(\"/\", oData);\r\n\r\n\t\t\t\t\tvar depResults = oData.HTT.results[0];\r\n\t\t\t\t\tvar data = [{\r\n\t\t\t\t\t\t\"Key\": 0,\r\n\t\t\t\t\t\t\"Depchk\": depResults.Depchk0,\r\n\t\t\t\t\t\t\"Fname\": depResults.Fname0,\r\n\t\t\t\t\t\t\"Rel\": depResults.Rel0,\r\n\t\t\t\t\t\t\"RelType\": depResults.RelType0,\r\n\t\t\t\t\t\t\"Dob\": depResults.Dob0\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"Key\": 1,\r\n\t\t\t\t\t\t\"Depchk\": depResults.Depchk1,\r\n\t\t\t\t\t\t\"Fname\": depResults.Fname1,\r\n\t\t\t\t\t\t\"Rel\": depResults.Rel1,\r\n\t\t\t\t\t\t\"RelType\": depResults.RelType1,\r\n\t\t\t\t\t\t\"Dob\": depResults.Dob1\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"Key\": 2,\r\n\t\t\t\t\t\t\"Depchk\": depResults.Depchk2,\r\n\t\t\t\t\t\t\"Fname\": depResults.Fname2,\r\n\t\t\t\t\t\t\"Rel\": depResults.Rel2,\r\n\t\t\t\t\t\t\"RelType\": depResults.RelType2,\r\n\t\t\t\t\t\t\"Dob\": depResults.Dob2\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"Key\": 3,\r\n\t\t\t\t\t\t\"Depchk\": depResults.Depchk3,\r\n\t\t\t\t\t\t\"Fname\": depResults.Fname3,\r\n\t\t\t\t\t\t\"Rel\": depResults.Rel3,\r\n\t\t\t\t\t\t\"RelType\": depResults.RelType3,\r\n\t\t\t\t\t\t\"Dob\": depResults.Dob3\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"Key\": 4,\r\n\t\t\t\t\t\t\"Depchk\": depResults.Depchk4,\r\n\t\t\t\t\t\t\"Fname\": depResults.Fname4,\r\n\t\t\t\t\t\t\"Rel\": depResults.Rel4,\r\n\t\t\t\t\t\t\"RelType\": depResults.RelType4,\r\n\t\t\t\t\t\t\"Dob\": depResults.Dob4\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"Key\": 5,\r\n\t\t\t\t\t\t\"Depchk\": depResults.Depchk5,\r\n\t\t\t\t\t\t\"Fname\": depResults.Fname5,\r\n\t\t\t\t\t\t\"Rel\": depResults.Rel5,\r\n\t\t\t\t\t\t\"RelType\": depResults.RelType5,\r\n\t\t\t\t\t\t\"Dob\": depResults.Dob5\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"Key\": 6,\r\n\t\t\t\t\t\t\"Depchk\": depResults.Depchk6,\r\n\t\t\t\t\t\t\"Fname\": depResults.Fname6,\r\n\t\t\t\t\t\t\"Rel\": depResults.Rel6,\r\n\t\t\t\t\t\t\"RelType\": depResults.RelType6,\r\n\t\t\t\t\t\t\"Dob\": depResults.Dob6\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"Key\": 7,\r\n\t\t\t\t\t\t\"Depchk\": depResults.Depchk7,\r\n\t\t\t\t\t\t\"Fname\": depResults.Fname7,\r\n\t\t\t\t\t\t\"Rel\": depResults.Rel7,\r\n\t\t\t\t\t\t\"RelType\": depResults.RelType7,\r\n\t\t\t\t\t\t\"Dob\": depResults.Dob7\r\n\t\t\t\t\t}];\r\n\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"AnnualTicket\").setProperty(\"/Dependents\", data);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tvar message;\r\n\t\t\t\t\tif (error.responseText.includes(\"<errordetails/>\")) {\r\n\t\t\t\t\t\tif (error.responseText.includes(\"<message xml:lang=\\\"en\\\">\")) {\r\n\t\t\t\t\t\t\tmessage = error.responseText.split('<message xml:lang=\\\"en\\\">')[1].split('</message>')[0];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmessage = error.message + \" : \" + error.responseText;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessage = JSON.parse(error.responseText).error.innererror.errordetails[0].message;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsap.m.MessageBox.error(\r\n\t\t\t\t\t\tmessage, {\r\n\t\t\t\t\t\t\tonClose: function(evt) {\r\n\t\t\t\t\t\t\t\t// window.location.hash = \"\";\r\n\t\t\t\t\t\t\t\twindow.history.back();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\r\n\t\t\tvar oUploadCollection = this.getView().byId(\"UploadCollection\");\r\n\t\t\toUploadCollection.setFileType([\"jpg\", \"png\", \"pdf\", \"PDF\", \"PNG\", \"JPG\", \"jPG\", \"BMP\", \"bmp\", \"TIF\", \"tif\", \"TIFF\",\r\n\t\t\t\t\"tiff\",\r\n\t\t\t\t\"JPEG\", \"jpeg\", \"dib\", \"DIB\", \"GIF\", \"gif\"\r\n\t\t\t]);\r\n\t\t\toUploadCollection.setMimeType = [\"image/png\", \"image/jpeg\", \"application/pdf\", \"application/msword\",\r\n\t\t\t\t\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\", \"image/png\", \"application/vnd.ms-excel\",\r\n\t\t\t\t\"application/vnd.ms-excel\", \"image/bmp\", \"image/tiff\", \"image/gif\"\r\n\t\t\t];\r\n\t\t},\r\n\r\n\t\t//Added by Sandeep after UAT changes\r\n\t\t_getEntityName: function(oEntityModel) {\r\n\r\n\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\toEntityModel.read(\"/permissiontypeSet\", {\r\n\t\t\t\t\tsuccess: function(oResult) {\r\n\t\t\t\t\t\t// that.Bukrs =  oResult.results[0].Bukrs;\r\n\t\t\t\t\t\tresolve(oResult);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tonAfterRendering: function() {\r\n\t\t\tvar that = this;\r\n\t\t\tvar oViewModel = new sap.ui.model.json.JSONModel({\r\n\t\t\t\tLpoPdf: \"0\"\r\n\t\t\t});\r\n\t\t\tthis.getView().setModel(oViewModel, \"oViewModel\");\r\n\r\n\t\t\tthis._setValueList();\r\n\r\n\t\t},\r\n\t\t_setValueList: function() {\r\n\t\t\tvar oEntityModel = this.getView().getModel(\"entitySet\");\r\n\t\t\tthis._getEntityName(oEntityModel).then(function(oResult) {\r\n\r\n\t\t\t\tthis.oDataModel.read(\"/ValueSet\", {\r\n\t\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"AnnualTicket\").setProperty(\"/ValueSet\", oData.results);\r\n\t\t\t\t\t\tvar valueRadio = View.byId(\"Value\");\r\n\t\t\t\t\t\tvar sFilter = [],\r\n\t\t\t\t\t\t\tsTableFilter = [];\r\n\r\n\t\t\t\t\t\t// var valueFilter = new Filter([\r\n\t\t\t\t\t\t// \tnew Filter(\"Domname\", FilterOperator.EQ, \"Ticket Type\")\r\n\t\t\t\t\t\t// ], false);\r\n\t\t\t\t\t\tthis.sEntityName = oResult.results[0].Bukrs;\r\n\t\t\t\t\t\tif (this.sEntityName === \"QA32\") {\r\n\r\n\t\t\t\t\t\t\tsFilter.push(new Filter({\r\n\r\n\t\t\t\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\t\t\t\tnew Filter(\"Domname\", FilterOperator.EQ, \"Ticket Type\"),\r\n\t\t\t\t\t\t\t\t\tnew Filter(\"DomvalueL\", FilterOperator.NE, \"1\")\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tand: true\r\n\r\n\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\tsTableFilter.push(new Filter([\r\n\t\t\t\t\t\t\t\tnew Filter(\"Key\", FilterOperator.EQ, 0)\r\n\t\t\t\t\t\t\t], false));\r\n\r\n\t\t\t\t\t\t\tthis._setFilterTableData(sTableFilter);\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsFilter.push(new Filter([\r\n\t\t\t\t\t\t\t\tnew Filter(\"Domname\", FilterOperator.EQ, \"Ticket Type\")\r\n\t\t\t\t\t\t\t], false));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvalueRadio.getBinding(\"buttons\").filter(sFilter, \"Application\");\r\n\t\t\t\t\t\t// this.oFirstRadioButton = oData.results.filter( function(oReulst) {\r\n\t\t\t\t\t\t// \t\t\t\treturn oReulst.Domname === \"Ticket Type\" ;\r\n\r\n\t\t\t\t\t\t// })[0].DomvalueL;\r\n\t\t\t\t\t\t// if(this.oFirstRadioButton === \"2\"){\r\n\t\t\t\t\t\t// \tView.byId(\"table\").setVisible(false);\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tthis.getView().getModel(\"detailView\").setProperty(\"/busy\", false);\r\n\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(error) {\r\n\t\t\t\t\t\tthis.getView().getModel(\"detailView\").setProperty(\"/busy\", false);\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t}.bind(this));\r\n\t\t},\r\n\t\tdateFormatter: function(d) {\r\n\r\n\t\t\tvar dd = d.split(\".\");\r\n\t\t\tvar D = dd[2] + \"-\" + dd[1] + \"-\" + dd[0] + \"T00:00:00\";\r\n\t\t\treturn D;\r\n\r\n\t\t},\r\n\t\tdateFormatter2: function(evtDate) {\r\n\r\n\t\t\t//\"2015-08-09T00:00:00\";\r\n\r\n\t\t\tvar dd = evtDate.split(\".\");\r\n\t\t\tvar d = dd[2] + \"-\" + dd[1] + \"-\" + dd[0] + \"T00:00:00\";\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tonSubmit: function() {\r\n\r\n\t\t\tif (!this.getView().byId(\"table\").getSelectedIndices().length && this.sEntityName === \"QA32\" && this.getView().byId(\"Value\").getSelectedIndex() === 0) {\r\n\t\t\tsap.m.MessageBox.error(this.getView().getModel(\"i18n\").getResourceBundle().getText(\"NO_ITEM_SELECTED\"));\r\n\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this;\r\n\t\t\tvar formValid = true;\r\n\t\t\tvar isAttached = true;\r\n\t\t\tvar oEntry = {};\r\n\t\t\t$.each($('.mandatory'), function(index, elem) {\r\n\t\t\t\tvar control = that.getView().byId(elem.id);\r\n\t\t\t\tif (control.getValue) {\r\n\t\t\t\t\tif (!control.getValue()) {\r\n\t\t\t\t\t\tformValid = false;\r\n\t\t\t\t\t\tif (!control.hasBeenValidatedBefore) {\r\n\t\t\t\t\t\t\tvar valueStateMsg = control.mProperties.valueStateText + \" \" + i18nModel.getResourceBundle().getText(\"isMandatory\");\r\n\t\t\t\t\t\t\tcontrol.setValueStateText = valueStateMsg;\r\n\t\t\t\t\t\t\tcontrol.hasBeenValidatedBefore = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontrol.setValueState(\"Error\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontrol.setValueState(\"None\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (formValid && control.aItems && Object.keys(control.aItems).length === 0) {\r\n\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\ti18nModel.getResourceBundle().getText(\"no_attachment\"), {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\ttitle: i18nModel.getResourceBundle().getText(\"Error\"),\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\tonClose: function(evt) {\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tformValid = false;\r\n\t\t\t\t\tisAttached = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\tif (!formValid && isAttached) {\r\n\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\ti18nModel.getResourceBundle().getText(\"MandatoryFields\"), {\r\n\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\ttitle: i18nModel.getResourceBundle().getText(\"Error\"),\r\n\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\tonClose: function(evt) {}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (formValid) {\r\n\r\n\t\t\t\tvar oTable = View.byId(\"table\");\r\n\t\t\t\tvar selectedIndices = oTable.getSelectedIndices();\r\n\t\t\t\tvar i;\r\n\t\t\t\tvar dep;\r\n\t\t\t\tif (selectedIndices.length > 0) {\r\n\t\t\t\t\tfor (i = 1; i <= selectedIndices.length; i++) {\r\n\t\t\t\t\t\tdep = oTable.getContextByIndex(selectedIndices[i - 1]).getObject();\r\n\t\t\t\t\t\tif (dep.Fname !== \"\") {\r\n\t\t\t\t\t\t\toEntry['Fname' + i] = dep.Fname;\r\n\t\t\t\t\t\t\toEntry['Rel' + i] = dep.Rel;\r\n\t\t\t\t\t\t\toEntry['Dob' + i] = dep.Dob;\r\n\t\t\t\t\t\t\toEntry['Depchk' + i] = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t/*else {\r\n\t\t\t\t\tformValid = false;\r\n\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\ti18nModel.getResourceBundle().getText(\"SelectDependents\"), {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\ttitle: i18nModel.getResourceBundle().getText(\"Error\"),\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\tonClose: function(evt) {\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}*/\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (formValid) {\r\n\t\t\t\tView.oBusy = new sap.m.BusyDialog();\r\n\t\t\t\tView.oBusy.open();\r\n\t\t\t\toEntry.Depdate = this.dateFormatter2(View.byId(\"Depdate\").getValue());\r\n\t\t\t\toEntry.Travelto = View.byId(\"Travelto\").getValue();\r\n\t\t\t\toEntry.Porigin = View.byId(\"Porigin\").getValue();\r\n\t\t\t\tif (View.byId(\"Redate\").getValue() !== \"\") {\r\n\t\t\t\t\toEntry.Redate = this.dateFormatter2(View.byId(\"Redate\").getValue());\r\n\t\t\t\t}\r\n\t\t\t\toEntry.Country = View.byId(\"Country\").getSelectedKey();\r\n\t\t\t\t// In case of QA32 employee there will be only 2 radio buttons visible\r\n\t\t\t\t//sandeep\r\n\t\t\t\tif (this.sEntityName === \"QA32\") {\r\n\r\n\t\t\t\t\toEntry.Tkttyp = (View.byId(\"Value\").getSelectedIndex() + 2).toString();\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\toEntry.Tkttyp = (View.byId(\"Value\").getSelectedIndex() + 1).toString();\r\n\t\t\t\t}\r\n\r\n\t\t\t\toEntry.Tkstyp = (View.byId(\"PaymentMethod\").getSelectedIndex() + 1).toString();\r\n\t\t\t\toEntry.Class = this.getOwnerComponent().getModel(\"AnnualTicket\").getProperty(\"/HTT/results/0/Class\");\r\n\t\t\t\toEntry.Pernr = this.getOwnerComponent().getModel(\"AnnualTicket\").getProperty(\"/HTE/results/0/Pernr\");\r\n\t\t\t\toEntry.Mobile = View.byId(\"Mobile\").getValue();\r\n\t\t\t\toEntry.Extn = View.byId(\"Extn\").getValue();\r\n\r\n\t\t\t\tvar oViewModel = this.getView().getModel(\"oViewModel\");\r\n\t\t\t\tswitch (oViewModel.getProperty(\"/LpoPdf\")) {\r\n\t\t\t\t\tcase \"0\":\r\n\t\t\t\t\t\toEntry.LpoPdf = \"\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"1\":\r\n\t\t\t\t\t\toEntry.LpoPdf = \"X\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\tthis.oDataModel.create(\"/SubmitDetailSet\", oEntry, {\r\n\t\t\t\t\tsuccess: function(success, response) {\r\n\t\t\t\t\t\tthat.WorkId = success.Workitem;\r\n\t\t\t\t\t\tthat.getView().byId(\"UploadCollection\").upload();\r\n\t\t\t\t\t\t/*sap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\"success\", {\r\n\t\t\t\t\t\t\t\tonClose: function(evt) {\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});*/\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(error, response) {\r\n\t\t\t\t\t\tView.oBusy.close();\r\n\t\t\t\t\t\tvar message;\r\n\t\t\t\t\t\tif (error.responseText.includes(\"<errordetails/>\")) {\r\n\t\t\t\t\t\t\tif (error.responseText.includes(\"<message xml:lang=\\\"en\\\">\")) {\r\n\t\t\t\t\t\t\t\tmessage = error.responseText.split('<message xml:lang=\\\"en\\\">')[1].split('</message>')[0];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tmessage = error.message + \" : \" + error.responseText;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmessage = JSON.parse(error.responseText).error.message.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsap.m.MessageBox.error(\r\n\t\t\t\t\t\t\tmessage, {\r\n\t\t\t\t\t\t\t\tonClose: function(evt) {\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//this.getView().byId(\"UploadCollection\").upload();\r\n\t\t},\r\n\t\tonChangeValue: function(evt) {\r\n\t\t\tif (evt.getSource().getValue()) {\r\n\t\t\t\tevt.getSource().setValueState(\"None\");\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setFilterTableData: function(sFilter) {\r\n\t\t\tthis.getView().byId(\"table\").getBinding(\"rows\").filter(sFilter, \"Application\");\r\n\t\t\tthis.getView().byId(\"table\").getModel().updateBindings();\r\n\t\t},\r\n\t\tonSelectedValueChange: function(evt) {\r\n\t\t\t// if (evt.getSource().getSelectedIndex() === 1) {\r\n\t\t\t// \tView.byId(\"table\").setVisible(false);\r\n\t\t\t// } else {\r\n\t\t\t// \tView.byId(\"table\").setVisible(true);\r\n\t\t\t// }\r\n\t\t\tView.byId(\"table\").setVisible(true);\r\n\t\t\tvar sFilter = [];\r\n\t\t\tif (this.sEntityName === \"QA32\") {\r\n\t\t\t\tif (evt.getSource().getSelectedIndex() === 0) {\r\n\r\n\t\t\t\t\tsFilter.push(new Filter([\r\n\t\t\t\t\t\tnew Filter(\"Key\", FilterOperator.EQ, 0)\r\n\t\t\t\t\t], false));\r\n\t\t\t\t\tthis._setFilterTableData(sFilter);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tView.byId(\"table\").setVisible(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (evt.getSource().getSelectedIndex() === 1) {\r\n\r\n\t\t\t\t\tsFilter.push(new Filter([\r\n\t\t\t\t\t\tnew Filter(\"Key\", FilterOperator.EQ, 0)\r\n\t\t\t\t\t], false));\r\n\t\t\t\t\tthis._setFilterTableData(sFilter);\r\n\r\n\t\t\t\t} else if (evt.getSource().getSelectedIndex() === 0) {\r\n\t\t\t\t\tView.byId(\"table\").setVisible(true);\r\n\t\t\t\t\tsFilter = [];\r\n\t\t\t\t\tthis._setFilterTableData(sFilter);\r\n\r\n\t\t\t\t} else if (evt.getSource().getSelectedIndex() === 2) {\r\n\t\t\t\t\tView.byId(\"table\").setVisible(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (evt.getSource().getSelectedIndex() === 2) {\r\n\t\t\t\tView.byId(\"Redate\").setEditable(false);\r\n\t\t\t} else {\r\n\t\t\t\tView.byId(\"Redate\").setEditable(true);\r\n\t\t\t}\r\n\r\n\t\t\t// if (this.oFirstRadioButton === \"2\") {\r\n\t\t\t// \tView.byId(\"table\").setVisible(false);\r\n\t\t\t// } else {\r\n\t\t\t// \tView.byId(\"table\").setVisible(true);\r\n\t\t\t// }\r\n\t\t},\r\n\t\tonPaymentMethodSelected: function(oEvent) {\r\n\t\t\tvar oViewModel = this.getView().getModel(\"oViewModel\");\r\n\t\t\tswitch (oEvent.getSource().getSelectedIndex()) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\toViewModel.setProperty(\"/LpoPdf\", \"0\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\toViewModel.setProperty(\"/LpoPdf\", \"1\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\toViewModel.updateBindings();\r\n\t\t},\r\n\t\tonChangeAttachment: function(oEvent) {\r\n\r\n\t\t\tvar oUploadCollection = oEvent.getSource();\r\n\t\t\t// Header Token\r\n\t\t\tvar oModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZHCM_ANNUAL_TICKET_SRV/\");\r\n\t\t\t// Header Token\r\n\t\t\tvar token = oModel.getSecurityToken();\r\n\t\t\t// var token = this.getCSRFToken();\r\n\t\t\tvar oCustomerHeaderToken = new sap.m.UploadCollectionParameter({\r\n\t\t\t\tname: \"x-csrf-token\",\r\n\t\t\t\tvalue: token\r\n\t\t\t});\r\n\t\t\toUploadCollection.addHeaderParameter(oCustomerHeaderToken);\r\n\r\n\t\t},\r\n\r\n\t\tonUploadComplete: function(oEvent) {\r\n\t\t\t//\tvar sUploadedFileName = oEvent.getParameter(\"files\")[0].fileName;\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tif (oEvent.getParameters().getParameters().status === 201) {\r\n\t\t\t\tsap.m.MessageToast.show(i18nModel.getResourceBundle().getText(\"attachment_success\"), {\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(function nav() {\r\n\t\t\t\t\tthat.getView().oBusy.close();\r\n\t\t\t\t\twindow.history.back();\r\n\r\n\t\t\t\t}, 2500);\r\n\t\t\t} else {\r\n\t\t\t\tsap.m.MessageToast.show(i18nModel.getResourceBundle().getText(\"attachment_not_successful\"), {\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(function nav() {\r\n\t\t\t\t\tthat.getView().oBusy.close();\r\n\t\t\t\t\t// window.location.hash = \"\";\r\n\t\t\t\t\twindow.history.back();\r\n\r\n\t\t\t\t}, 2500);\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBeforeUploadStarts: function(oEvent) {\r\n\r\n\t\t\tvar workId = this.WorkId;\r\n\t\t\tvar fileName = oEvent.getParameters().fileName;\r\n\t\t\tvar imageName = fileName.substring(0, fileName.indexOf(\".\"));\r\n\t\t\tvar fileExt = fileName.substring(fileName.indexOf(\".\"), fileName.length);\r\n\t\t\tfileExt = fileExt.slice(-3);\r\n\t\t\tvar nFCount = oEvent.getSource().getItems().length;\r\n\r\n\t\t\tvar mim = \"B\";\r\n\t\t\tvar oSlugHeaderToken = new sap.m.UploadCollectionParameter({\r\n\t\t\t\tname: \"SLUG\",\r\n\t\t\t\tvalue: imageName + \"|\" + fileExt + \"|\" + mim + \"|\" + workId + \"|\" + nFCount\r\n\t\t\t\t\t//\t\tvalue: imageName + \"|\" + fileExt + \"|\" + mim + \"|\" + nFCount\r\n\t\t\t});\r\n\t\t\toEvent.getParameters().addHeaderParameter(oSlugHeaderToken);\r\n\t\t}\r\n\t});\r\n});"
	}
});